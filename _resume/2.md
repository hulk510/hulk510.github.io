---
title: ホームページのトップページリニューアル対応
---

学校系のホームページサイトのトップページリニューアル対応。
リニューアルページのhtml, css, jsなどは別の方が作成してくれていたので、cmsに取り込みホームページとして表示する部分を担当しリニューアルに合わせて他ページの修正。

## 使用技術

- 管理画面（社内パッケージcms）： PHP
- インフラ： k8s, Vagrant

## 参加期間

- 2020年1月〜2020年4月

## 開発規模

- 4人

## プロジェクトでの課題

ホームページのトップ画面のリニューアルに合わせて、各所のページコンテンツなどを新しくした。
しかし、トップページではhtmlがハードコーディングされていて、適切に記事情報を取得できる状態になっておらず汎用性の面において課題があった。そのため、記事作成をしても適切にトップページに表示されない問題が起きていた。

## 主な取り組み

- cmsで記事やその他コンポーネントのパーツ化とトップページテンプレート化
- 障害が起こった際の情報収集と共有

【管理画面】

ハードコーディングされていた原因としては、html, cssは別途他の方が完成版を作成して取り込む形になっていたため、それをそのまま入力できる形にしていた結果今回の現象が起きていたと考えています。

html内部では記事の情報などは仮で置かれてるため都度修正する必要があったが、記事のリンクや埋め込みを行うことはあまり現実的でなかったためリニューアルに合わせてその部分の改修をしました。

納品されたhtmlからsectionごとにコンポーネントを分け適切なパーツに分解し、パーツ内部の情報を検索する機能の実装をしました。古いパッケージでドキュメントも少なく、保守状態で死活監視のみが動いてる状態だったため常駐しているエンジニアがおらず、コードや昔のタスクなどから調査する作業が苦戦しました。
また記事の情報を作成できる管理画面ページを作成し、管理画面側から作成することでHPの中に表示していることを動的に表示することができました。

【インフラ】

リリース後、ホームページがダウンしてることに気づきk8sの操作などは一通り聞いてはいたため、障害対応を行ないました。
gkeのエラーログを見つつサーバー内部に入って確認しましたが、当時の実力では解決できない問題だと判断し、社内のエンジニアで対応可能な人に頼み修正を依頼しました。
本番環境だったこともあり、調査に時間をかけるべきではないと思い社内のプロジェクトリーダーに共有し対応可能なエンジニアを見つけてもらった方が解決は早いと判断しました。
緊急で参加してくれたエンジニアに、プロジェクトの状況、エラーの状態など調査したところまでの共有しつつ、別プロジェクトから来てすぐに調査できるよう意識して情報を共有しました。
